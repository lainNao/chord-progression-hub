# aa

## 仕様改善

- パーサー類、regexでやるパターンとなんかゴリゴリにASTな変数のツリー作るパターンあるけど、今は速度考えてregexでやったんだな。AST版も作ってみていいのでは。
  - regexの良さはパフォーマンス（がよさそう）しかなくて、ASTは分析用途にも使いやすいはず。ASTもバックエンドならrustとかにやらせたり、フロントでもwasmとかにやらせれば結構早くできるのでは。一旦ここまで頑張ったからAST版も作っていい気がする。
  - というかAST版も作らないと結局は何を入力されているのか分解できないということは表示もいい感じにできないはず。なので作ることになりそう
- Iなどの記法を許容（これはCとかと混在しないように関数自体分けたほうが良いのかも）

## コードクオリティ

- （調査）マークダウンってどうリントしてるんだ？ これのコード読みたい <https://github.com/DavidAnson/markdownlint>。なんとなく一行ずつコールバックに入ってくる感じっぽいけど
  - それよりもプログラミング言語のパーサー部分の方が適切かもしれない
- `import ~~ from "chord-progression-markdown"` ができちゃう。名前被り起こしうるので一意になるようにできないのかな
- `~.◯◯.ts`などの〇〇の部分に入るやつはls-lintとかでリントかけよう。sつけ忘れや逆にsが多くなるとかで統制取れなくなるから
- `escape-string-regexp`というライブラリは`escapeStringRegexp`というラッパーを作っているので、そこ以外では使えないようにしておく
- `orMore`とか`withAround`とかのオプションの引数、やりすぎだと思った。現になんか変だし
- `orMore`のオプションとか、delimiter入れたら実質countが2以上になるはず。整合性取りたい

## パフォーマンス

- コード進行がフォーマット的に正しいかパースする処理、js出ないほうが速いはずなので書き換えたい
